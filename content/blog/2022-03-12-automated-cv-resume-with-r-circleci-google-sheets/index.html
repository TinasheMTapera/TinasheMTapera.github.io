---
title: Automated CV/Resume with R, CircleCI, & Google Sheets
author: Tinashe M. Tapera
date: '2022-03-12'
slug: []
categories:
  - data science
  - rmarkdown
  - R
  - continuous integration
tags:
  - data science
  - r
  - R Markdown

comments: no
showcomments: yes
showpagemeta: yes
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<center>
<b>I hate updating my resume.</b>
</center>
<p>A couple of years ago I was in a corporate tool limbo as I‚Äôd just left Drexel University,
so my license with Microsoft Word had expired. In addition to having the most
difficult time collaborating with MSW users on a paper, I also didn‚Äôt have a way
to efficiently edit the resumes and CVs I‚Äôd developed. I tried opening files in
<a href="https://www.libreoffice.org/">Libre Office</a>, which is a great freeware option
for the office suite of tools, but frankly didn‚Äôt give seamless transition
between features in MS.</p>
<div id="why-ditch-ms-word-for-your-cv" class="section level1">
<h1>Why Ditch MS Word for Your CV?</h1>
<p>Don‚Äôt get me wrong ‚Äì using MS products is all well and good when that‚Äôs pretty
much all you do. I once got into an argument with a law graduate friend who made
a very convincing point about how templates are easily transferred, signatures
tracked and authenticated, and multiple versions of documents in print composition
can be compared in their field. But as someone who writes code, I want out of
any scenario where I can‚Äôt just edit plain text for most of the work.
This is part of a philosophy of the difference between a plain text
editor and a word processor. A word processor workflow does a lot of work for you by
having a point-and-click GUI that formats and automates the styling of a document,
whereas a plain text editor leaves you to only edit the content ‚Äì no frills,
no special effects, just content. Then, once you‚Äôre happy with the <em>content</em> of
your document, you can work on the <em>typesetting</em>, or how it will look on a page.</p>
<p>This separation of content creation and typesetting is, in my opinion, a far more
productive workflow that should be adopted by everyone. In fact, if you‚Äôve ever
written a letter in MS Word, you probably already have adopted this workflow
in the form of <em>templates</em>. For a better explanation of why you might want to
separate content creation and typesetting, see <a href="https://richardlent.github.io/post/the-plain-text-workflow/">this blog post</a>.
But there‚Äôs more to appreciate here when you are
someone who writes code for a living. When you create documents with code
you get all the advantages that come with coding too,
most importantly: version control, continuous integration, and formatting management.</p>
<div id="version-control-with-ms-word-sucks" class="section level2">
<h2>Version Control with MS Word Sucks</h2>
<p>If you‚Äôve ever created a document and named it <code>myreport_ProfessorXfeedback_version4_March12_FINAL.docx</code>,
you already know what I mean.</p>
<p><img src="http://www.phdcomics.com/comics/archive/phd101212s.gif" alt="version control sucks"></p>
<p>Credit: <a href="https://PhDcomics.com">PhDcomics.com</a></p>
<p>Using plain text gives you the ability to version
control files with Git+Github and similar tools, which gives you clearer commit
history, change integration, etc. Now, admittedly, MS Word claims to have a
version control system but I‚Äôve never had much success with that, being totally
honest, especially in comparison to Git-based workflows.</p>
</div>
<div id="formatting" class="section level2">
<h2>Formatting</h2>
<p>In addition to version control sucking in MS word, managing reference format with
something like <code>bibtex</code> also sucks; managing special characters from <code>latex</code> is a
huge pain that isn‚Äôt handled well by MSW either. Again, <em>plain text</em> let‚Äôs you
see things as you generate them, and worry about what they look like on a page
later. Not to mention‚Ä¶ tables üò§</p>
<iframe id="reddit-embed" src="https://www.redditmedia.com/r/mildlyinfuriating/comments/i4r2ox/when_word_refuses_to_align_tables/?ref_source=embed&amp;ref=share&amp;embed=true" sandbox="allow-scripts allow-same-origin allow-popups" style="border: none;" height="420" width="640" scrolling="no">
</iframe>
<p>Once again, you don‚Äôt have to worry about this formatting nonsense until you‚Äôre
ready to ‚Äúpublish‚Äù your work, and when you are, you have the option to choose
from a variety of formats that your content just gets dumped into. This website,
for example, is build on the <a href="https://github.com/kaapiandcode/hugo-goa">Goa template</a> from the <a href="https://gohugo.io/">Hugo web framework</a>. I just generate content in any plain text editor,
and drop it into the framework that renders all the fancy bits for me. Speaking
of which‚Ä¶</p>
</div>
<div id="continuous-integration" class="section level2">
<h2>Continuous Integration</h2>
<p>The best part of this project was making something that could be regenerated any
time I needed it to, by an automated service. As opposed to having to open the
Word document myself, make edits, save it, and export it, I have set up a system
that does all of that for me at the push of a button. The only thing <em>I</em> need to
do to make it work, is to edit the data that goes <em>into</em> the document. I do this with
google sheets, but any data source can be used. This means when I earn a new title,
publication, or role, I just open up google sheets, add a line to the doc with
the details, then hit ‚ÄúRerun‚Äù on the CircleCI continuous intergation service.</p>
<p>That‚Äôs it; that‚Äôs really it. No aligning tables, no content formatting, no shoddy
print previews, and the output is accessible from CircleCI any time I need it.</p>
</div>
</div>
<div id="the-workflow" class="section level1">
<h1>The Workflow</h1>
<p>The downside to this approach should be apparent: <strong>you have to set it up first.</strong>
This entire project took me about 2 or 3 nights on-and-off, but wasn‚Äôt particularly
challenging. Fortunately, a lot of folks have already accomplished this and it
was easy to follow their instructions, clone their code, and adjust it for my
own usage. Hence, I‚Äôm not going to explain how to do it in this post ‚Äì just
demonstrate the benefits of doing it. The <a href="https://www.google.com/search?q=curriculum+vitae+in+Rmarkdown&amp;sxsrf=APq-WBt8gbmUdcI3cS0kq3tkcSnGuOmEiw%3A1647108030894&amp;ei=vt8sYsySNoyZptQPib6wsAc&amp;ved=0ahUKEwjM6dnIk8H2AhWMjIkEHQkfDHYQ4dUDCA4&amp;uact=5&amp;oq=curriculum+vitae+in+Rmarkdown&amp;gs_lcp=Cgdnd3Mtd2l6EAMyBggAEBYQHjoHCAAQRxCwAzoHCAAQsAMQQzoECCMQJzoKCC4QxwEQrwEQJzoECAAQQzoFCAAQkQI6BQgAEIAEOg0ILhCxAxDHARCjAhAKOg4ILhCABBCxAxDHARCvAToOCC4QgAQQsQMQxwEQ0QM6BwgAEMkDEEM6CAgAEIAEELEDOgcIABCxAxBDOggIABCxAxCRAjoLCAAQgAQQsQMQgwE6CwguEIAEEMcBEK8BOgoIABCABBCHAhAUOgQIABANOggIABAIEA0QHjoKCAAQCBANEAoQHkoECEEYAEoECEYYAFDTAlieN2CBOWgBcAF4AIABwQGIAf8MkgEEMTYuNJgBAKABAcgBCsABAQ&amp;sclient=gws-wiz">Google search results</a>
for this task are full of options, but I especially benefited the most from
<a href="https://github.com/mleary/resume">Matt Leary‚Äôs resume template</a> and
<a href="https://github.com/seabbs/cv">Sam Abbott‚Äôs CV template</a>. Ultimately, the
workflow looks like this:</p>
<p><img src="blog/2022-03-12-automated-cv-resume-with-r-circleci-google-sheets/cv_wf.png" alt="" style="width:700px;height:450px;"></p>
<div id="input-data-from-google-sheets" class="section level2">
<h2>Input data from Google sheets</h2>
<p>This is where it all starts; I found it great to organise it in a <a href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html"><em>tidy</em> format</a>
(each data point is a value, each column is a variable, each row is an observation).
Furthermore, I can separate the data into different sheets for different CV categories.</p>
<p><img src="blog/2022-03-12-automated-cv-resume-with-r-circleci-google-sheets/cv_inputs.png" alt="" style="width:700px;height:450px;"></p>
</div>
<div id="read-in-data-in-.rmd" class="section level2">
<h2>Read in Data In .Rmd</h2>
<p>I wrote a <a href="https://github.com/TinasheMTapera/ReproducibleResumeCV/blob/main/run.R">script</a> in R that
sets up and calls the Rmarkdown scripts, with configured parameters for both
the long form CV and the one page resume.
The RMarkdowns read in the data and parse it into a tidy
format ready for the <a href="https://pkg.mitchelloharawild.com/vitae/"><code>vitae</code></a> and
<a href="https://pagedown.rbind.io/"><code>pagedown</code></a> packages ‚Äì these do most of the hard
work.</p>
</div>
<div id="knit-with-css-latex" class="section level2">
<h2>Knit with <code>CSS</code> + <code>Latex</code></h2>
<p>The packages for R CVs and resumes come with CSS definition files; I <a href="https://github.com/TinasheMTapera/ReproducibleResumeCV/commit/3a19029f0904f81c2cfa070fe6e4d9aec91f96af">tinkered</a>
with these minimally, but I‚Äôm considering asking a CSS professional to make me a
unique one. Once they‚Äôre ready to render, <code>knitr</code> takes it away, with some help
from <code>latex</code>.</p>
</div>
<div id="circle-ci" class="section level2">
<h2>Circle CI</h2>
<p>Lastly, I created a <a href="https://github.com/TinasheMTapera/ReproducibleResumeCV/blob/main/Dockerfile">Dockerfile</a> that runs the above procedure on CircleCI. Once you upload the project
to Github, and link that to Circle, then any time you add a commit to Github,
the procedure runs as a job. You can configure how CircleCI runs in the <code>config.yml</code>,
including <em>storing the output files!</em> <a href="https://github.com/TinasheMTapera/ReproducibleResumeCV/blob/main/.circleci/config.yml#L41-L50">These lines</a> demonstrate how Circle knows to store outputs.</p>
</div>
</div>
<div id="running-it" class="section level1">
<h1>Running It</h1>
<p>Now, whenever I need a new copy of my CV or resume, I just hop on to Google Sheets,
update a new line of info, head over to Circle CI and hit ‚ÄúRe-run workflow‚Äù.</p>
<p>Like magic, <a href="http://tinashemtapera.com/cv/tinashemtapera_cv.pdf">brand new CV</a>!</p>
</div>
